import {
  Box,
  Flex,
  Icon,
  IconButton,
  keyframes,
  Link,
  Tag,
  Text,
  VStack,
} from '@chakra-ui/react';
import React, { FC, useEffect, useRef } from 'react';
import { FaArrowDown, FaGithub, FaLinkedin, FaTwitter } from 'react-icons/fa';
import Header from '../lib/Header';
import { useIntersect } from '../../hooks';
import profile from '@data/profile';

const LandingPage: FC = () => {
  const {
    name,
    tagLine,
    contact: { github, linkedin, twitter },
  } = profile;

  const landingRef = useRef<HTMLDivElement>(null);
  const [entry, setNode] = useIntersect({ threshold: 0.1 });

  useEffect(() => {
    setNode(landingRef.current);
  }, [setNode]);

  const shouldShowHeader = !!entry && !entry.isIntersecting;
  const nodeAnim = keyframes`
    from { transform: scale(1);  }
    to { transform: scale(1.2); }
  `;
  const reactAnim = keyframes`
    from { transform: scale(1);  }
    to { transform: scale(1.25); }
  `;
  const graphqlAnim = keyframes`
    from { transform: scale(1);  }
    to { transform: scale(1.2); }
  `;

  return (
    <>
      <Flex
        bgColor="lightblack"
        direction="column"
        align="center"
        ref={landingRef}
        justify="space-around"
        px={8}
        py={4}
        w="full"
        h="100vh"
      >
        <Text fontSize="24px">Hello, nice to have you here...</Text>
        <Box pos="relative">
          <Box pos="absolute" w="full" h={24}>
            <Box
              pos="relative"
              left="50%"
              w="fit-content"
              style={{ width: '-moz-fit-content' }}
              animation={`${nodeAnim} 5s linear infinite alternate`}
            >
              <svg
                id="node"
                width="70"
                height="70"
                viewBox="0 0 70 70"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <circle cx="35" cy="35" r="35" fill="#25262A" />
                <path
                  d="M35.0817 53.5281C34.584 53.5283 34.095 53.3974 33.6639 53.1486L29.1524 50.4779C28.4791 50.101 28.8072 49.9679 29.0299 49.8902C29.746 49.669 30.4316 49.3591 31.0709 48.9679C31.1244 48.9431 31.1833 48.9324 31.2421 48.9368C31.3009 48.9412 31.3576 48.9605 31.4069 48.9929L34.8735 51.0523C34.938 51.0865 35.01 51.1043 35.083 51.1043C35.156 51.1043 35.2279 51.0865 35.2925 51.0523L48.8111 43.2495C48.8744 43.2116 48.9267 43.1579 48.963 43.0937C48.9992 43.0295 49.0182 42.9569 49.018 42.8832V27.2749C49.018 27.1999 48.9988 27.1263 48.9621 27.061C48.9254 26.9957 48.8725 26.9409 48.8085 26.902L35.2898 19.1057C35.2261 19.0698 35.1542 19.0509 35.081 19.0509C35.0078 19.0509 34.9359 19.0698 34.8722 19.1057L21.3615 26.9046C21.297 26.9427 21.2435 26.9968 21.2061 27.0617C21.1687 27.1266 21.1487 27.2 21.148 27.2749V42.8766C21.1482 42.9502 21.1679 43.0224 21.2052 43.0858C21.2425 43.1493 21.2959 43.2017 21.3601 43.2376L25.0679 45.3774C27.0772 46.3814 28.3079 45.1982 28.3079 44.0097V28.6056C28.3079 28.5008 28.3495 28.4003 28.4236 28.3261C28.4978 28.252 28.5983 28.2104 28.7031 28.2104H30.416C30.5209 28.2104 30.6214 28.252 30.6955 28.3261C30.7697 28.4003 30.8113 28.5008 30.8113 28.6056V44.0111C30.8113 46.6924 29.3514 48.2274 26.8084 48.2274C25.7114 48.2465 24.6315 47.9531 23.6949 47.3815L20.1414 45.3432C19.71 45.0919 19.352 44.7319 19.1032 44.2991C18.8544 43.8663 18.7236 43.3758 18.7236 42.8766V27.2749C18.7223 26.7749 18.8527 26.2833 19.1015 25.8497C19.3504 25.416 19.709 25.0555 20.1414 24.8043L33.6613 16.9989C34.0968 16.7606 34.5852 16.6357 35.0817 16.6357C35.5781 16.6357 36.0665 16.7606 36.502 16.9989L50.0207 24.8043C50.452 25.0551 50.81 25.4146 51.0591 25.8469C51.3081 26.2792 51.4393 26.7693 51.4397 27.2683V42.8766C51.439 43.3758 51.3076 43.8661 51.0587 44.2989C50.8097 44.7316 50.4519 45.0916 50.0207 45.3432L36.502 53.1486C36.0702 53.3978 35.5803 53.5287 35.0817 53.5281Z"
                  fill="#83CD29"
                />
                <path
                  d="M32.5176 37.6549C32.5176 37.5501 32.5593 37.4496 32.6334 37.3754C32.7075 37.3013 32.8081 37.2597 32.9129 37.2597H34.6614C34.7548 37.26 34.8451 37.2933 34.9162 37.3539C34.9874 37.4144 35.0348 37.4982 35.05 37.5904C35.3136 39.3705 36.1041 40.2677 39.6788 40.2677C42.5261 40.2677 43.7396 39.6234 43.7396 38.1121C43.7396 37.2412 43.3958 36.5943 38.9699 36.1608C35.2701 35.7945 32.9827 34.9749 32.9827 32.0182C32.9827 29.2908 35.2819 27.6635 39.1359 27.6635C43.4669 27.6635 45.6106 29.1669 45.8821 32.3924C45.8862 32.4463 45.8793 32.5004 45.8617 32.5515C45.8441 32.6025 45.8162 32.6495 45.7798 32.6893C45.7434 32.7292 45.6992 32.7612 45.6499 32.7833C45.6007 32.8055 45.5474 32.8173 45.4934 32.818H43.7331C43.6447 32.8168 43.5594 32.786 43.4906 32.7306C43.4218 32.6752 43.3736 32.5984 43.3536 32.5123C42.9333 30.64 41.9042 30.0418 39.1373 30.0418C36.0277 30.0418 35.6667 31.1249 35.6667 31.9365C35.6667 32.9195 36.0936 33.2067 40.2915 33.7614C44.4459 34.3109 46.4197 35.0882 46.4197 38.0081C46.4197 40.9542 43.9636 42.6408 39.6801 42.6408C33.7575 42.6487 32.5176 39.9331 32.5176 37.6549Z"
                  fill="#83CD29"
                />
              </svg>
            </Box>
            <Box
              pos="relative"
              left="10%"
              top="30%"
              w="fit-content"
              style={{ width: '-moz-fit-content' }}
              animation={`${reactAnim} 10s linear 1.5s infinite alternate`}
            >
              <svg
                id="graphql"
                width="50"
                height="50"
                viewBox="0 0 50 50"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <circle cx="25" cy="25" r="25" fill="#25262A" />
                <path
                  d="M14.5006 31.4082L25.2767 12.7425L26.2442 13.3006L15.4681 31.9663L14.5006 31.4082Z"
                  fill="#E10098"
                />
                <path
                  d="M14.2775 29.9165H35.8316V31.0337H14.2775V29.9165Z"
                  fill="#E10098"
                />
                <path
                  d="M14.7038 30.5443L15.2629 29.5768L26.0437 35.8006L25.4847 36.7681L14.7038 30.5443Z"
                  fill="#E10098"
                />
                <path
                  d="M24.0701 14.3208L24.6292 13.3533L35.41 19.578L34.851 20.5455L24.0701 14.3208Z"
                  fill="#E10098"
                />
                <path
                  d="M14.7067 19.5752L25.4875 13.3505L26.0465 14.318L15.2657 20.5427L14.7067 19.5752Z"
                  fill="#E10098"
                />
                <path
                  d="M23.8753 13.3015L24.8428 12.7425L35.6189 31.4082L34.6524 31.9663L23.8753 13.3015Z"
                  fill="#E10098"
                />
                <path
                  d="M15.133 18.8336H16.2502V31.2831H15.133V18.8336Z"
                  fill="#E10098"
                />
                <path
                  d="M33.8675 18.8336H34.9846V31.2831H33.8675V18.8336Z"
                  fill="#E10098"
                />
                <path
                  d="M24.807 35.4505L34.1837 30.037L34.6721 30.8821L25.2955 36.2956L24.807 35.4505Z"
                  fill="#E10098"
                />
                <path
                  d="M36.465 31.6464C36.2328 32.0499 35.8861 32.3754 35.4687 32.5818C35.0514 32.7882 34.5822 32.8661 34.1206 32.8058C33.6589 32.7454 33.2256 32.5494 32.8754 32.2426C32.5252 31.9358 32.2738 31.532 32.1532 31.0824C32.0326 30.6327 32.0481 30.1573 32.1977 29.7165C32.3474 29.2756 32.6245 28.889 32.9939 28.6057C33.3634 28.3224 33.8086 28.155 34.2732 28.1249C34.7378 28.0947 35.2009 28.203 35.6039 28.4361C36.1432 28.7481 36.5368 29.2613 36.6983 29.8632C36.8597 30.465 36.7758 31.1063 36.465 31.6464Z"
                  fill="#E10098"
                />
                <path
                  d="M17.7174 20.8232C17.4852 21.2267 17.1384 21.5523 16.7211 21.7586C16.3038 21.965 15.8346 22.043 15.373 21.9826C14.9113 21.9222 14.478 21.7262 14.1278 21.4194C13.7775 21.1127 13.5262 20.7089 13.4056 20.2592C13.285 19.8095 13.3005 19.3342 13.4501 18.8933C13.5998 18.4524 13.8769 18.0659 14.2463 17.7825C14.6157 17.4992 15.0609 17.3319 15.5255 17.3017C15.9901 17.2715 16.4532 17.3798 16.8562 17.6129C17.3956 17.9249 17.7892 18.4382 17.9506 19.04C18.1121 19.6418 18.0282 20.2831 17.7174 20.8232Z"
                  fill="#E10098"
                />
                <path
                  d="M13.6516 31.6464C13.4185 31.2433 13.3102 30.7802 13.3404 30.3156C13.3706 29.851 13.5379 29.4058 13.8213 29.0364C14.1046 28.667 14.4911 28.3899 14.932 28.2402C15.3729 28.0906 15.8482 28.0751 16.2979 28.1957C16.7476 28.3163 17.1514 28.5676 17.4582 28.9179C17.7649 29.2681 17.9609 29.7014 18.0213 30.1631C18.0817 30.6247 18.0037 31.0939 17.7974 31.5112C17.591 31.9286 17.2654 32.2753 16.8619 32.5075C16.3218 32.8183 15.6805 32.9022 15.0787 32.7407C14.4769 32.5793 13.9637 32.1857 13.6516 31.6464Z"
                  fill="#E10098"
                />
                <path
                  d="M32.3993 20.8232C32.1661 20.4202 32.0578 19.9571 32.088 19.4925C32.1182 19.0279 32.2856 18.5827 32.5689 18.2132C32.8522 17.8438 33.2388 17.5667 33.6796 17.417C34.1205 17.2674 34.5959 17.2519 35.0455 17.3725C35.4952 17.4932 35.899 17.7445 36.2058 18.0947C36.5126 18.4449 36.7085 18.8782 36.7689 19.3399C36.8293 19.8015 36.7514 20.2707 36.545 20.688C36.3386 21.1054 36.013 21.4521 35.6095 21.6843C35.0695 21.9951 34.4282 22.079 33.8263 21.9176C33.2245 21.7561 32.7113 21.3625 32.3993 20.8232Z"
                  fill="#E10098"
                />
                <path
                  d="M25.0583 38.2344C24.593 38.2344 24.1381 38.0964 23.7512 37.8378C23.3642 37.5793 23.0627 37.2118 22.8846 36.7819C22.7065 36.352 22.6599 35.8789 22.7507 35.4225C22.8415 34.9661 23.0656 34.5468 23.3946 34.2178C23.7237 33.8887 24.1429 33.6646 24.5993 33.5739C25.0557 33.4831 25.5288 33.5297 25.9587 33.7078C26.3887 33.8858 26.7561 34.1874 27.0147 34.5743C27.2732 34.9613 27.4112 35.4162 27.4112 35.8815C27.4121 36.1907 27.3518 36.4971 27.2339 36.7829C27.1159 37.0688 26.9427 37.3285 26.724 37.5472C26.5053 37.7658 26.2456 37.9391 25.9598 38.057C25.6739 38.175 25.3676 38.2352 25.0583 38.2344Z"
                  fill="#E10098"
                />
                <path
                  d="M25.0583 16.5796C24.593 16.5796 24.1381 16.4416 23.7512 16.183C23.3642 15.9245 23.0627 15.557 22.8846 15.1271C22.7065 14.6972 22.6599 14.2241 22.7507 13.7677C22.8415 13.3113 23.0656 12.892 23.3946 12.563C23.7237 12.2339 24.1429 12.0098 24.5993 11.919C25.0557 11.8282 25.5288 11.8748 25.9587 12.0529C26.3887 12.231 26.7561 12.5326 27.0147 12.9195C27.2732 13.3064 27.4112 13.7613 27.4112 14.2267C27.4121 14.5359 27.3518 14.8423 27.2339 15.1281C27.1159 15.414 26.9427 15.6737 26.724 15.8924C26.5053 16.111 26.2456 16.2843 25.9598 16.4022C25.6739 16.5202 25.3676 16.5804 25.0583 16.5796Z"
                  fill="#E10098"
                />
              </svg>
            </Box>
            <Box
              pos="relative"
              left="72%"
              top={{
                base: '50%',
                md: '15%',
              }}
              w="fit-content"
              style={{ width: '-moz-fit-content' }}
              animation={`${graphqlAnim} 10s linear 3s infinite alternate`}
            >
              <svg
                id="react"
                width="60"
                height="60"
                viewBox="0 0 60 60"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <circle cx="30" cy="30" r="30" fill="#25262A" />
                <path
                  d="M29.837 33.8079C31.3965 33.8079 32.6608 32.5436 32.6608 30.9841C32.6608 29.4246 31.3965 28.1603 29.837 28.1603C28.2775 28.1603 27.0132 29.4246 27.0132 30.9841C27.0132 32.5436 28.2775 33.8079 29.837 33.8079Z"
                  fill="#00D8FF"
                />
                <path
                  d="M29.837 37.4585C26.4429 37.5406 23.0574 37.0831 19.8069 36.1031C18.3053 35.6271 16.9048 34.8772 15.6762 33.8915C15.2074 33.5547 14.817 33.1205 14.5317 32.6187C14.2465 32.1168 14.0732 31.5592 14.0237 30.9841C14.0237 29.117 16.0749 27.2872 19.5109 26.0899C22.8484 25.029 26.3354 24.5148 29.837 24.5673C33.2919 24.519 36.7322 25.0239 40.0275 26.0628C41.4736 26.5238 42.8266 27.2374 44.0237 28.1705C44.4846 28.4915 44.8691 28.91 45.1502 29.3962C45.4313 29.8824 45.602 30.4245 45.6502 30.9841C45.6502 32.9246 43.3573 34.8911 39.6638 36.1132C36.4762 37.0613 33.1621 37.515 29.837 37.4585ZM29.837 25.9182C26.487 25.8734 23.1512 26.3622 19.9548 27.3662C16.7922 28.4698 15.3746 29.9788 15.3746 30.9807C15.3746 32.0289 16.8984 33.6769 20.244 34.8211C23.3536 35.7539 26.5914 36.1881 29.837 36.1076C33.0182 36.1645 36.1893 35.734 39.2402 34.8312C42.7135 33.6803 44.2948 32.03 44.2948 30.9841C44.2378 30.6252 44.107 30.282 43.9107 29.9761C43.7143 29.6703 43.4567 29.4086 43.154 29.2074C42.0829 28.3796 40.8743 27.7472 39.5836 27.3391C36.4311 26.3494 33.1408 25.8697 29.837 25.9182Z"
                  fill="#00D8FF"
                />
                <path
                  d="M23.4213 45.0681C22.8944 45.0802 22.3737 44.9523 21.9123 44.6976C20.2948 43.7646 19.7346 41.0741 20.4134 37.4992C21.1619 34.078 22.4588 30.8003 24.2538 27.7932C25.9376 24.7764 28.0932 22.0484 30.639 19.7126C31.7607 18.6901 33.0548 17.8744 34.4612 17.3034C34.9699 17.065 35.5248 16.9414 36.0866 16.9414C36.6484 16.9414 37.2033 17.065 37.712 17.3034C39.3939 18.2725 39.9507 21.2409 39.1657 25.0507C38.3941 28.2863 37.1309 31.3844 35.4202 34.2371C33.7957 37.2183 31.7079 39.9226 29.235 42.2488C28.0724 43.3114 26.7233 44.1497 25.2557 44.7213C24.6681 44.9394 24.0479 45.0566 23.4213 45.0681ZM25.424 28.4641C23.7117 31.3437 22.4688 34.4774 21.7417 37.7477C21.1171 41.0402 21.7169 43.0202 22.5889 43.524C23.4925 44.047 25.686 43.5511 28.3494 41.2243C30.7101 38.9957 32.7029 36.4071 34.2534 33.5549C35.8923 30.8277 37.104 27.8657 37.8464 24.7718C38.5851 21.1855 37.9469 18.9897 37.0411 18.4679C36.7015 18.3378 36.3387 18.2796 35.9756 18.2969C35.6124 18.3142 35.2567 18.4067 34.9311 18.5684C33.6793 19.085 32.5283 19.8184 31.5313 20.7349C29.0991 22.9722 27.04 25.5838 25.4319 28.4709L25.424 28.4641Z"
                  fill="#00D8FF"
                />
                <path
                  d="M36.2493 45.0827C34.7188 45.0827 32.7749 44.1565 30.7508 42.4159C28.1605 40.059 25.9684 37.2985 24.2594 34.2416C22.4869 31.2759 21.2003 28.0457 20.4484 24.6735C20.1224 23.1898 20.0619 21.6601 20.27 20.1554C20.3181 19.5972 20.488 19.0564 20.7679 18.571C21.0478 18.0856 21.4307 17.6676 21.8897 17.3463C23.5693 16.3738 26.4191 17.3734 29.3276 19.9555C31.7454 22.2396 33.7987 24.881 35.4157 27.7876C37.1871 30.684 38.4872 33.8435 39.2673 37.1479C39.6075 38.6859 39.6599 40.2737 39.4221 41.8309C39.3655 42.4051 39.1854 42.9603 38.8941 43.4585C38.6028 43.9566 38.2073 44.3858 37.7346 44.7168C37.2807 44.9683 36.7681 45.0946 36.2493 45.0827ZM25.4285 33.5617C27.0679 36.4831 29.1619 39.1249 31.6318 41.3881C34.1721 43.5737 36.1871 44.0436 37.0535 43.5342C37.9571 43.0089 38.6235 40.8651 37.9368 37.3964C37.1844 34.2416 35.9374 31.2257 34.2421 28.4608C32.699 25.6789 30.7392 23.1496 28.4307 20.9608C25.6928 18.53 23.4722 17.9867 22.5674 18.5108C22.2854 18.74 22.054 19.0251 21.8878 19.3482C21.7216 19.6713 21.6241 20.0254 21.6017 20.3881C21.4221 21.73 21.4806 23.0932 21.7745 24.4148C22.4977 27.6397 23.7317 30.7284 25.4296 33.5639L25.4285 33.5617Z"
                  fill="#00D8FF"
                />
              </svg>
            </Box>
          </Box>
          <VStack pos="relative">
            <Text fontSize="20px" alignSelf="flex-start">
              I am
            </Text>
            <Text
              fontSize="72px"
              lineHeight="1.2"
              textAlign="center"
              fontWeight="bold"
            >
              {name}
            </Text>
            <Tag fontSize="16px" bgColor="darkblack" color="white">
              {tagLine}
            </Tag>
          </VStack>
        </Box>
        <VStack w="full" spacing={10}>
          <Flex
            justify="space-between"
            w={{
              base: 'full',
              md: '50%',
            }}
          >
            <Link href={github} isExternal>
              <IconButton
                display="inline-flex"
                variant="unstyled"
                fontSize="2rem"
                icon={<Icon as={FaGithub} />}
                aria-label="github profile"
              />
            </Link>
            <Link href={linkedin} isExternal>
              <IconButton
                display="inline-flex"
                variant="unstyled"
                fontSize="2rem"
                icon={<Icon as={FaLinkedin} />}
                aria-label="linkedin profile"
              />
            </Link>
            <Link href={twitter} isExternal>
              <IconButton
                display="inline-flex"
                variant="unstyled"
                fontSize="2rem"
                icon={<Icon as={FaTwitter} />}
                aria-label="twitter profile"
              />
            </Link>
          </Flex>
          <Link href="#introduction">
            <IconButton
              display="inline-flex"
              variant="unstyled"
              fontSize="2rem"
              icon={<Icon as={FaArrowDown} />}
              aria-label="next section"
            />
          </Link>
        </VStack>
      </Flex>
      <Header show={shouldShowHeader} />
    </>
  );
};

export default LandingPage;
